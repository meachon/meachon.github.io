---
layout: post
title:  "搭建以太坊私有网络"
date:   2017-08-30 09:55:39 +0800
categories: 数字货币
---

# 1. 编写初始块数据

genesis.json文件内容如下：
```json
{

    "nonce":"0x0000000000000042",

    "mixhash":"0x0000000000000000000000000000000000000000000000000000000000000000",

    "difficulty": "0x1",

    "alloc": {
    },

    "coinbase":"0x0000000000000000000000000000000000000000",

    "timestamp": "0x00",

    "parentHash":"0x0000000000000000000000000000000000000000000000000000000000000000",

    "extraData": "xiaoma GenesisBlock",

    "gasLimit":"0xffffffff"

}
```

# 3. 初始化
编写初始化脚本geth_init.sh
```shell
#!/bin/bash

BASE_PATH=$(cd `dirname $0`; pwd)

#geth --identity "XMetherum" --rpc --rpcport "8080" --rpccorsdomain "*" --datadir "$BASE_PATH/chain" --port "30303" --nodiscover --rpcapi "db,eth,net,web3" --networkid 2088 --testnet init genesis.json
#geth --identity "XMetherum" --rpc --rpcport "8080" --rpccorsdomain "*" --datadir "$BASE_PATH/chain" --port "30303" --nodiscover --rpcapi "db,eth,net,web3" --networkid 2088 console


geth --datadir "$BASE_PATH/chain"  init genesis.json
#geth --identity "XMetherum" --rpc --rpccorsdomain "*" --datadir "$BASE_PATH/chain" --port "30303"  --rpcapi "db,eth,net,web3" --networkid 2088 console

#geth --identity "XMetherum-002" --rpc --rpcaddr "192.168.0.117" --rpcport "8080" --rpccorsdomain "*" --datadir "$BASE_PATH/chain" --port "30303"  --rpcapi "db,eth,net,web3" --testnet --networkid 2288  init genesis.json
#geth --identity "XMetherum-002" --rpc --rpcaddr "192.168.0.178" --rpcport "8080" --rpccorsdomain "*" --datadir "$BASE_PATH/chain" --port "30303"  --rpcapi "db,eth,net,web3" --testnet --networkid 2288  console

```

# 3. 启动
编写启动脚本geth_start.sh
```shell
#!/bin/bash

BASE_PATH=$(cd `dirname $0`; pwd)

#geth --identity "XMetherum" --rpc --rpcport "8080" --rpccorsdomain "*" --datadir "$BASE_PATH/chain" --port "30303" --nodiscover --rpcapi "db,eth,net,web3" --networkid 2088 --testnet init genesis.json
#geth --identity "XMetherum" --rpc --rpcport "8080" --rpccorsdomain "*" --datadir "$BASE_PATH/chain" --port "30303" --nodiscover --rpcapi "db,eth,net,web3" --networkid 2088 console


#geth --datadir "$BASE_PATH/chain"  init genesis.json
geth --identity "XMetherum" --rpc --rpccorsdomain "*" --datadir "$BASE_PATH/chain" --port "30303"  --rpcapi "db,eth,net,web3" --networkid 2088 console

#geth --identity "XMetherum-002" --rpc --rpcaddr "192.168.0.117" --rpcport "8080" --rpccorsdomain "*" --datadir "$BASE_PATH/chain" --port "30303"  --rpcapi "db,eth,net,web3" --testnet --networkid 2288  init genesis.json
#geth --identity "XMetherum-002" --rpc --rpcaddr "192.168.0.178" --rpcport "8080" --rpccorsdomain "*" --datadir "$BASE_PATH/chain" --port "30303"  --rpcapi "db,eth,net,web3" --testnet --networkid 2288  console
```
